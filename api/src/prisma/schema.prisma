generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Customer {
  id                String   @id @default(uuid()) @db.Char(36)
  fullName          String
  identityNumber    String   @unique
  dateOfBirth       DateTime
  email             String   @unique
  contactNumber     String
  gender            String   // or Enum if you prefer fixed options
  address           String
  incomeSource      String   // e.g., Employee, Self-employed, etc.
  monthlyIncome     Float
  bank              String   // e.g., Absa, etc.
  accountNumber     String   @unique
  grantor           Grantor?

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}

model Grantor {
  id                String   @id @default(uuid()) @db.Char(36)
  fullName          String
  identityNumber    String   @unique
  contactNumber     String
  customerId        String   @unique
  customer          Customer @relation(fields: [customerId], references: [id])

  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}
